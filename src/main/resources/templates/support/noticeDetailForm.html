<!DOCTYPE html>
<html lang="ko" charset="utf-8"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">  <!-- 공통 양식으로 만들었던 layout 호출 -->
<head>
    <style>
        .stack {
            display: flex;
        }

        .submitDiv {
            display: flex;
            justify-content: end;
        }

        .inputInfo {
            width: 750px;
        }

        .myStacks {
            width: 634px;
        }

        .textAreaInfo {
            width: 750px;
            height: 500px;
        }

        .container {
            margin-top: 10px;
        }

    </style>
</head>
<div layout:fragment="content" class="container">
    <table>
        <form action="/noticeModify" method="post" id="modifySuccess">
            <tr>
                <th>제목</th>
                <td>
                    <input type="text" name="noticeBoard" class="inputInfo" th:value="${noticeList.getNoticeBoard()}"
                           hidden="hidden">
                    <input type="text" name="title" class="inputInfo" th:value="${noticeList.getTitle()}">
                </td>
            </tr>
            <tr>
                <div>
                    <th>구분</th>
                    <td>
                        <input type="radio" id="public" name="sortation" value="공지사항" checked>
                        <label for="public" th:value="${noticeList.getSortation()}">공지사항</label>
                        <input type="radio" id="private" name="sortation" value="이벤트">
                        <label for="private" th:value="${noticeList.getSortation()}">이벤트</label>
                    </td>
                </div>
            </tr>
            <tr>
                <th>상세내용</th>
                <td>
                    <textarea class="textAreaInfo" name="detail" th:value="${noticeList.getDetail()}"
                              th:text="${noticeList.getDetail()}">
                    </textarea>
                </td>
            </tr>
            <tr th:if="${noticeList.fileAttached == 1}">
                <td th:each="list : ${noticeFilesList}">
                    <img th:src="@{/notice/} + ${list.storedFileName}">
                </td>
            </tr>
        </form>
    </table>
    <table>
        <tr>
            <td colspan="2">
                <br>
                <div class="submitDiv">
                        <span>
                            <button style="margin-left: 70px" type="submit" class="btn btn-primary"
                                    onclick="location.href='/noticeAllList'">목록으로</button>&nbsp
                        </span>
                    <div th:if="${session.memberLogin}">
                        <div th:if="${session.memberLogin.role}=='admin'">
                            <button style="margin-left: 280px" type="submit" class="btn btn-primary"
                                    form="modifySuccess">
                                첨부파일
                                수정
                            </button>
                            <button type="submit" class="btn btn-success" form="modifySuccess">게시글 수정</button>
                            <form action="/noticeDelete" method="post" style="display: inline-block">
                                <input name="noticeBoard" type="text" th:value="${noticeList.getNoticeBoard()}"
                                       hidden="hidden">
                                <button type="submit" class="btn btn-danger">게시글 삭제
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </td>
        </tr>
    </table>
</div>
</html>